--- a/PKGBUILD
+++ b/PKGBUILD
@@ -11,7 +11,7 @@ _majorver=23
 _minorver=0
 _securityver=1
 _updatever=0
-pkgver=${_majorver}.${_minorver}.${_securityver}.u${_updatever}
+pkgver=${_majorver}.${_minorver}.ls.0
 # pkgver=${_majorver}.u${_updatever}
 pkgrel=1
 _git_tag=jdk-${_majorver}.${_minorver}.${_securityver}+${_updatever}
@@ -20,17 +20,17 @@ arch=('x86_64')
 url='https://openjdk.java.net/'
 license=('LicenseRef-Java')
 makedepends=('java-environment>=22' 'cpio' 'unzip' 'zip' 'libelf' 'libcups' 'libx11'
-             'libxrender' 'libxtst' 'libxt' 'libxext' 'libxrandr' 'alsa-lib' 'pandoc'
+             'libxrender' 'libxtst' 'libxt' 'libxext' 'libxrandr' 'alsa-lib'
              'graphviz' 'freetype2' 'libjpeg-turbo' 'giflib' 'libpng' 'lcms2'
              'libnet' 'bash' 'harfbuzz' 'gcc-libs' 'glibc')
 optdepends=(
   'gvfs: open links e.g. hyperlinks'
 )             
-source=(https://github.com/openjdk/jdk${_majorver}u/archive/${_git_tag}.tar.gz
+source=(https://github.com/loongson/jdk/archive//refs/tags/jdk-23+0-ls-0.tar.gz
         freedesktop-java.desktop
         freedesktop-jconsole.desktop
         freedesktop-jshell.desktop)
-sha256sums=('1399fcd6053c160916960cefcd1c266df85cecc72933d7b3c1e9fe420effcb67'
+sha256sums=('77fe735ed701369cdc79c511c759667c0bb7ffc53b08fdb38bda52df6a5e2df2'
             '427269f9910ea2b965fd3f4755c16263053414df53020946b27ed9a5b9f98d36'
             'b8e29678081f81057aa6020b74b3299dde5703d0cc43e55807413aed65f0c6e8'
             'eeb631d0216ccfe885cfaa72bbed44f8d3d9995b3d61e837295e8375f110434f')
@@ -38,10 +38,12 @@ sha256sums=('1399fcd6053c160916960cefcd1c266df85cecc72933d7b3c1e9fe420effcb67'
 case "${CARCH}" in
   x86_64) _JARCH='x86_64';;
   i686)   _JARCH='x86';;
+  loong64) _JARCH='loongarch64';;
 esac
+options=(!lto)
 
 _jvmdir=/usr/lib/jvm/java-${_majorver}-openjdk
-_jdkdir=jdk${_majorver}u-${_git_tag//+/-}
+_jdkdir=jdk-jdk-23-0-ls-0
 _imgdir=${_jdkdir}/build/linux-${_JARCH}-server-release/images
 
 _nonheadless=(lib/libawt_xawt.so
@@ -101,7 +103,7 @@ build() {
 
 
   bash configure \
-    --with-version-build="${_updatever}" \
+    --with-version-build="" \
     --with-version-pre="" \
     --with-version-opt="" \
     --with-stdc++lib=dynamic \
@@ -122,7 +124,7 @@ build() {
     ${NUM_PROC_OPT}
     #--disable-javac-server
 
-  make images legacy-jre-image docs
+  make images legacy-jre-image # docs
 
   # https://bugs.openjdk.java.net/browse/JDK-8173610
   find "${srcdir}/${_imgdir}" -iname '*.so' -exec chmod +x {} \;
@@ -353,7 +355,7 @@ package_openjdk-doc() {
   provides=("openjdk${_majorver}-doc=${pkgver}-${pkgrel}")
 
   install -dm 755 "${pkgdir}/usr/share/doc"
-  cp -r ${_imgdir}/docs "${pkgdir}/usr/share/doc/${pkgbase}"
+  #cp -r ${_imgdir}/docs "${pkgdir}/usr/share/doc/${pkgbase}"
 
   install -dm 755 "${pkgdir}/usr/share/licenses"
   ln -s ${pkgbase} "${pkgdir}/usr/share/licenses/${pkgname}"
